<xen:title>{xen:phrase fs_address}</xen:title>

<form method="post" class="xenForm AutoValidator"
	action="{xen:link 'address/save'}"
	data-fieldValidatorUrl="{xen:link register/validate-field}"
	>

    <xen:if is="!{$customFieldInputName}"><xen:set var="$customFieldInputName" value="custom_fields" /></xen:if>
    <xen:if is="!{$customFieldCheckbox}"><xen:set var="$customFieldCheckbox" value="is_checked" /></xen:if>
	
		<fieldset>
	
			<dl class="ctrlUnit">
				<dt>
				<label for="ctrl_custom_field_shipping_name">{$customFields.shipping_name.title}:</label>
				<xen:if is="{$customFields.shipping_name.required}"><dfn>{xen:phrase required}</dfn></xen:if>
				</dt>
				<dd>
                    <ul>
                        <li><input type="text" name="{$customFieldInputName}[shipping_name]" value="{$customFields.shipping_name.field_value}" 
                            id="ctrl_custom_field_shipping_name"
                            data-validatorname="custom_field_shipping_name"
                            class="textCtrl" maxlength="{xen:if $customFields.shipping_name.max_length, $customFields.shipping_name.max_length}" 
                            /></li>
                        <li><label for="ctrl_shipping_name"><input type="checkbox" name="{$customFieldCheckbox}[shipping_name][checkbox]" id="ctrl_shipping_name" value="1"{xen:checked '{$customFields.shipping_name.field_value}'} /> {xen:phrase fs_save_address_field}</label></li>
                    </ul>
				
				</dd>
			        
			</dl>
			
			<dl class="ctrlUnit">
				<dt>
				<label for="ctrl_custom_field_shipping_street_address">{$customFields.shipping_street_address.title}:</label>
				<xen:if is="{$customFields.shipping_street_address.required}"><dfn>{xen:phrase required}</dfn></xen:if>
				</dt>
				<dd>
                    <ul>
                        <li><input type="text" name="{$customFieldInputName}[shipping_street_address]" value="{$customFields.shipping_street_address.field_value}" 
                            id="ctrl_custom_field_shipping_street_address"
                            data-validatorname="custom_field_shipping_street_address"
                            class="textCtrl" maxlength="{xen:if $customFields.shipping_street_address.max_length, $customFields.shipping_street_address.max_length}" 
                            /></li>
                        <li><label for="ctrl_shipping_street_address"><input type="checkbox" name="{$customFieldCheckbox}[shipping_street_address][checkbox]" id="ctrl_shipping_street_address" value="1"{xen:checked '{$customFields.shipping_street_address.field_value}'} /> {xen:phrase fs_save_address_field}</label></li>
                    </ul>
				
				</dd>
			        
			</dl>
			
			<dl class="ctrlUnit">
				<dt>
				<label for="ctrl_custom_field_shipping_street_address_2">{$customFields.shipping_street_address_2.title}:</label>
				<xen:if is="{$customFields.shipping_street_address_2.required}"><dfn>{xen:phrase required}</dfn></xen:if>
				</dt>
				<dd>
                    <ul>
                        <li><input type="text" name="{$customFieldInputName}[shipping_street_address_2]" value="{$customFields.shipping_street_address_2.field_value}" 
                            id="ctrl_custom_field_shipping_street_address_2"
                            data-validatorname="custom_field_shipping_street_address_2"
                            class="textCtrl" maxlength="{xen:if $customFields.shipping_street_address_2.max_length, $customFields.shipping_street_address_2.max_length}" 
                            /></li>
                        <li><label for="ctrl_shipping_street_address_2"><input type="checkbox" name="{$customFieldCheckbox}[shipping_street_address_2][checkbox]" id="ctrl_shipping_street_address_2" value="1"{xen:checked '{$customFields.shipping_street_address_2.field_value}'} /> {xen:phrase fs_save_address_field}</label></li>
                    </ul>
				
				</dd>
			        
			</dl>
			
			<dl class="ctrlUnit">
				<dt>
				<label for="ctrl_custom_field_shipping_city">{$customFields.shipping_city.title}:</label>
				<xen:if is="{$customFields.shipping_city.required}"><dfn>{xen:phrase required}</dfn></xen:if>
				</dt>
				<dd>
                    <ul>
                        <li><input type="text" name="{$customFieldInputName}[shipping_city]" value="{$customFields.shipping_city.field_value}" 
                            id="ctrl_custom_field_shipping_city"
                            data-validatorname="custom_field_shipping_city"
                            class="textCtrl" maxlength="{xen:if $customFields.shipping_city.max_length, $customFields.shipping_city.max_length}" 
                            /></li>
                        <li><label for="ctrl_shipping_city"><input type="checkbox" name="{$customFieldCheckbox}[shipping_city][checkbox]" id="ctrl_shipping_city" value="1"{xen:checked '{$customFields.shipping_city.field_value}'} /> {xen:phrase fs_save_address_field}</label></li>
                    </ul>
				
				</dd>
			        
			</dl>

            <dl class="ctrlUnit">
				<dt>
				<label for="ctrl_custom_field_shipping_state">{$customFields.shipping_state.title}:</label>
				<xen:if is="{$customFields.shipping_state.required}"><dfn>{xen:phrase required}</dfn></xen:if>
				</dt>
				<dd>
                    <ul>
                        <li><input type="text" name="{$customFieldInputName}[shipping_state]" value="{$customFields.shipping_state.field_value}" 
                            id="ctrl_custom_field_shipping_state"
                            data-validatorname="custom_field_shipping_state"
                            class="textCtrl" maxlength="{xen:if $customFields.shipping_state.max_length, $customFields.shipping_state.max_length}" 
                            /></li>
                        <li><label for="ctrl_shipping_state"><input type="checkbox" name="{$customFieldCheckbox}[shipping_state][checkbox]" id="ctrl_shipping_state" value="1"{xen:checked '{$customFields.shipping_state.field_value}'} /> {xen:phrase fs_save_address_field}</label></li>
                    </ul>
				
				</dd>
			        
			</dl>

            <dl class="ctrlUnit">
				<dt>
				<label for="ctrl_custom_field_shipping_postal">{$customFields.shipping_postal.title}:</label>
				<xen:if is="{$customFields.shipping_postal.required}"><dfn>{xen:phrase required}</dfn></xen:if>
				</dt>
				<dd>
                    <ul>
                        <li><input type="text" name="{$customFieldInputName}[shipping_postal]" value="{$customFields.shipping_postal.field_value}" 
                            id="ctrl_custom_field_shipping_postal"
                            data-validatorname="custom_field_shipping_postal"
                            class="textCtrl" maxlength="{xen:if $customFields.shipping_postal.max_length, $customFields.shipping_postal.max_length}" 
                            /></li>
                        <li><label for="ctrl_shipping_postal"><input type="checkbox" name="{$customFieldCheckbox}[shipping_postal][checkbox]" id="ctrl_shipping_postal" value="1"{xen:checked '{$customFields.shipping_postal.field_value}'} /> {xen:phrase fs_save_address_field}</label></li>
                    </ul>
				
				</dd>
			        
			</dl>

            <dl class="ctrlUnit">
				<dt>
				<label for="ctrl_custom_field_shipping_country">{$customFields.shipping_country.title}:</label>
				<xen:if is="{$customFields.shipping_country.required}"><dfn>{xen:phrase required}</dfn></xen:if>
				</dt>
				<dd>
                    <ul>
                        <li><input type="text" name="{$customFieldInputName}[shipping_country]" value="{$customFields.shipping_country.field_value}" 
                            id="ctrl_custom_field_shipping_country"
                            data-validatorname="custom_field_shipping_country"
                            class="textCtrl" maxlength="{xen:if $customFields.shipping_country.max_length, $customFields.shipping_country.max_length}" 
                            /></li>
                        <li><label for="ctrl_shipping_country"><input type="checkbox" name="{$customFieldCheckbox}[shipping_country][checkbox]" id="ctrl_title_only" value="1"{xen:checked '{$customFields.shipping_country.field_value}'} /> {xen:phrase fs_save_address_field}</label></li>
                    </ul>
				
				</dd>
			        
			</dl>

            <dl class="ctrlUnit">
				<dt>
				<label for="ctrl_custom_field_receive_swag">{$customFields.receive_swag.title}:</label>
				<xen:if is="{$customFields.receive_swag.required}"><dfn>{xen:phrase required}</dfn></xen:if>
				</dt>
				<dd>
                    <ul>
                        <li><ul class="checkboxColumns">
                            <xen:if is="!{$customFields.receive_swag.required}">
                                <li><label><input type="radio" name="{$customFieldInputName}[receive_swag]" value="" {xen:checked 'strval({$customFields.receive_swag.field_value}) == ""'} /> <span class="muted">{xen:phrase no_selection}</span></label></li>
                            </xen:if>
                            <xen:foreach loop="$customFields.receive_swag.fieldChoices" key="$choice" value="$text">
                                <li><label><input type="radio" name="{$customFieldInputName}[receive_swag]" value="{$choice}" {xen:checked 'strval({$customFields.receive_swag.field_value}) == strval({$choice})'} /> {xen:raw $text}</label></li>
                            </xen:foreach>
                            </ul></li>
                        <li><label for="ctrl_receive_swag"><input type="checkbox" name="{$customFieldCheckbox}[receive_swag][checkbox]" id="ctrl_receive_swag" value="1"{xen:checked '{$customFields.receive_swag.field_value}'} /> {xen:phrase fs_save_address_field}</label></li>
                    </ul>
                    
				</dd>
			        
			</dl>

            <dl class="ctrlUnit">
				<dt>
				<label for="ctrl_custom_field_t_shirt_size">{$customFields.t_shirt_size.title}:</label>
				<xen:if is="{$customFields.t_shirt_size.required}"><dfn>{xen:phrase required}</dfn></xen:if>
				</dt>
				<dd>
                    <ul>
                        <li> <select name="{$customFieldInputName}[t_shirt_size]" id="ctrl_custom_field_t_shirt_size" class="textCtrl">
                            <xen:if is="!{$customFields.t_shirt_size.required} OR !{$customFields.t_shirt_size.hasValue}">
                                <option value="" {xen:selected 'strval({$customFields.t_shirt_size.field_value}) == ""'}>&nbsp;</option>
                            </xen:if>
                            <xen:foreach loop="$customFields.t_shirt_size.fieldChoices" key="$choice" value="$text">
                                <option value="{$choice}" {xen:selected 'strval({$customFields.t_shirt_size.field_value}) == strval({$choice})'}>{xen:raw $text}</option>
                            </xen:foreach>
                            </select></li>
                        <li><label for="ctrl_t_shirt_size"><input type="checkbox" name="{$customFieldCheckbox}[t_shirt_size][checkbox]" id="ctrl_t_shirt_size" value="1"{xen:checked '{$customFields.t_shirt_size.field_value}'} /> {xen:phrase fs_save_address_field}</label></li>
                    </ul>
                   
				</dd>
			        
			</dl>

            <dl class="ctrlUnit">
				<dt>
				<label for="ctrl_custom_field_share_address">{$customFields.share_address.title}:</label>
				<xen:if is="{$customFields.share_address.required}"><dfn>{xen:phrase required}</dfn></xen:if>
				</dt>
				<dd>
                    <ul>
                    <li><ul class="checkboxColumns">
                        <xen:if is="!{$customFields.share_address.required}">
                            <li><label><input type="radio" name="{$customFieldInputName}[share_address]" value="" {xen:checked 'strval({$customFields.share_address.field_value}) == ""'} /> <span class="muted">{xen:phrase no_selection}</span></label></li>
                        </xen:if>
                        <xen:foreach loop="$customFields.share_address.fieldChoices" key="$choice" value="$text">
                            <li><label><input type="radio" name="{$customFieldInputName}[share_address]" value="{$choice}" {xen:checked 'strval({$customFields.share_address.field_value}) == strval({$choice})'} /> {xen:raw $text}</label></li>
                        </xen:foreach>
                        </ul></li>
                    <li><label for="ctrl_share_address"><input type="checkbox" name="{$customFieldCheckbox}[share_address][checkbox]" id="ctrl_share_address" value="1"{xen:checked '{$customFields.share_address.field_value}'} /> {xen:phrase fs_save_address_field}</label></li>
                </ul>
                    
				</dd>
			        
			</dl>
	
			
		</fieldset>
	
		<dl class="ctrlUnit submitUnit">
			<dt></dt>
			<dd><input type="submit" name="save" value="{xen:phrase save_changes}" accesskey="s" class="button primary" /></dd>
		</dl>
	

	<input type="hidden" name="_xfToken" value="{$visitor.csrf_token_page}" />
</form>